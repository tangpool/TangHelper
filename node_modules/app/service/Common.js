var _ = require('lodash');
var app = angular.module('tangHelper.common', [])
    .service('getLocalIP', function($q) {
        return function() {
            var df = $q.defer();
            chrome.system.network.getNetworkInterfaces(function(items) {
                df.resolve(items.filter(function(el) {
                    return !~el.address.indexOf('::');
                }).map(function(el) {
                    return el.address;
                }));
            });
            return df.promise;
        };
    });
