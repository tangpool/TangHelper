/* jslint latedef:false */

'use strict';

require('app/service/common');
require('app/controller/executorCtrl');

//根据矿机类型加载不同的 service 实现
angular.injector(['ng', 'tangHelper.common']).invoke(function(confManager) {
    confManager.get().then(function(conf) {
        require('app/service/' + conf.type);
        angular.element(document).ready(function() {
            angular.module('tangHelper.executor', [
                'ngRoute',
                'tangHelper.common',
                'tangHelper.executorCtrl'
            ]).value('conf', conf);
            angular.bootstrap(document, ['tangHelper.executor']);
        });
    });
});

